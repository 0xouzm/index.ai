# Index.ai 前端开发计划

## 1. 设计方向

### 1.1 美学定位：Editorial Authority

融合经典报刊的权威感与现代 AI 产品的清晰度。

**灵感来源**：
- 《金融时报》- 淡粉/米色背景，高端质感
- 《纽约时报》- 优雅的排版节奏，层次分明
- Bloomberg - 信息密度高但不杂乱

**核心原则**：
- 简洁 (Clean) - 无冗余元素
- 稳固 (Solid) - 可信赖的视觉感受
- 低认知负担 - 用户一眼看懂结构

---

### 1.2 设计系统

#### Typography

| 用途 | 字体 | 备选 |
|------|------|------|
| 标题 (Display) | Playfair Display | Libre Baskerville |
| 正文 (Body) | Inter Variable | Source Sans Pro |
| 代码/数据 | JetBrains Mono | Fira Code |

#### Color Palette

**Light Mode**
```css
--background: #FFFBF5;      /* 暖白纸张 */
--foreground: #1a1a1a;      /* 深墨色 */
--muted: #f5f5f0;           /* 淡灰背景 */
--accent: #9B2C2C;          /* 深红强调 */
--border: #e5e5e0;          /* 淡边框 */
```

**Dark Mode**
```css
--background: #0f0f0f;      /* 近黑 */
--foreground: #fafafa;      /* 近白 */
--muted: #1a1a1a;           /* 深灰背景 */
--accent: #E53E3E;          /* 亮红强调 */
--border: #2a2a2a;          /* 深边框 */
```

#### Spacing System

基于 8px 网格：
- `xs`: 4px
- `sm`: 8px
- `md`: 16px
- `lg`: 24px
- `xl`: 32px
- `2xl`: 48px
- `3xl`: 64px

#### Motion

极度克制，仅用于：
- 页面过渡 (150ms ease-out)
- Hover 状态 (100ms)
- 加载状态

---

## 2. 页面结构

### 2.1 页面清单

| 页面 | 路由 | 访问权限 | 优先级 |
|------|------|----------|--------|
| 首页 | `/` | 公开 | P0 |
| 频道页 | `/c/[slug]` | 公开 | P0 |
| 精选集页 | `/c/[slug]/[collection]` | 登录（AI 交互需购买） | P0 |
| 登录/注册 | `/auth` | 公开 | P0 |
| 用户中心 | `/dashboard` | 登录 | P1 |
| 我的精选集 | `/dashboard/collections` | 登录 | P1 |
| 定价页 | `/pricing` | 公开 | P1 |

### 2.2 页面设计

#### 首页 `/`

```
┌────────────────────────────────────────────────────────────────┐
│  Header                                                         │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ Logo          [频道1] [频道2] [频道3] [频道4]    [登录]  │  │
│  └──────────────────────────────────────────────────────────┘  │
├────────────────────────────────────────────────────────────────┤
│  Hero Section                                                   │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │              Index.ai                                     │  │
│  │         AI-Powered Knowledge Portal                       │  │
│  │                                                           │  │
│  │    [开始探索]                                             │  │
│  └──────────────────────────────────────────────────────────┘  │
├────────────────────────────────────────────────────────────────┤
│  Channels Grid (报纸式多栏布局)                                 │
│  ┌────────────────┐ ┌────────────────┐ ┌────────────────┐      │
│  │ 编程/AI        │ │ 环球旅行        │ │ 硬核健身        │      │
│  │                │ │                │ │                │      │
│  │ · 精选集1      │ │ · 精选集1      │ │ · 精选集1      │      │
│  │ · 精选集2      │ │ · 精选集2      │ │ · 精选集2      │      │
│  │ · 精选集3      │ │ · 精选集3      │ │ · 精选集3      │      │
│  │ [更多 →]       │ │ [更多 →]       │ │ [更多 →]       │      │
│  └────────────────┘ └────────────────┘ └────────────────┘      │
│  ┌────────────────┐                                            │
│  │ 干净饮食        │                                            │
│  │ ...            │                                            │
│  └────────────────┘                                            │
├────────────────────────────────────────────────────────────────┤
│  Footer                                                         │
│  关于 · 定价 · 联系 · © 2025 Index.ai                          │
└────────────────────────────────────────────────────────────────┘
```

**特点**：
- 报纸式网格布局，高信息密度
- 每个频道显示 3-5 个热门精选集
- 文字链为主，无大图无动画

---

#### 频道页 `/c/[slug]`

```
┌────────────────────────────────────────────────────────────────┐
│  Breadcrumb: 首页 / 编程·AI                                    │
├────────────────────────────────────────────────────────────────┤
│  Channel Header                                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │  编程/AI                                                  │  │
│  │  前沿技术、模型架构、工程实践                             │  │
│  │  [142 个精选集 · 1,280 份档案]                            │  │
│  └──────────────────────────────────────────────────────────┘  │
├────────────────────────────────────────────────────────────────┤
│  Collection List                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ ★ 精选                                                    │  │
│  │ ┌────────────────────────────────────────────────────┐   │  │
│  │ │ DeepSeek 技术论文集                                 │   │  │
│  │ │ 2025年7月3日 · 14 个来源                            │   │  │
│  │ │ By Index.ai                                         │   │  │
│  │ └────────────────────────────────────────────────────┘   │  │
│  │ ┌────────────────────────────────────────────────────┐   │  │
│  │ │ Claude 技术档案                                      │   │  │
│  │ │ 2025年6月15日 · 23 个来源                           │   │  │
│  │ │ By Index.ai                                         │   │  │
│  │ └────────────────────────────────────────────────────┘   │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ 全部精选集                                                │  │
│  │ [筛选: 最新 / 热门 / 来源数]                              │  │
│  │ ...                                                       │  │
│  └──────────────────────────────────────────────────────────┘  │
├────────────────────────────────────────────────────────────────┤
│  Channel BBS                                                    │
│  [讨论区入口]                                                   │
└────────────────────────────────────────────────────────────────┘
```

---

#### 精选集页 `/c/[slug]/[collection]` (核心体验)

```
┌────────────────────────────────────────────────────────────────┐
│  Breadcrumb: 首页 / 编程·AI / DeepSeek 技术论文集              │
├────────────────────────────────────────────────────────────────┤
│  Collection Header                                              │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │  DeepSeek 技术论文集                                      │  │
│  │  2025年7月3日 · 14 个来源 · By Index.ai                   │  │
│  └──────────────────────────────────────────────────────────┘  │
├────────────────────────────────────────────────────────────────┤
│  Three-Column Layout                                            │
│  ┌───────────┬─────────────────────────────┬───────────────┐   │
│  │ Documents │      AI Chat Area           │   Summary     │   │
│  │           │                             │               │   │
│  │ □ 论文1   │  ┌─────────────────────┐   │ ## 摘要       │   │
│  │ □ 论文2   │  │ 用户: 这篇论文的    │   │               │   │
│  │ □ 论文3   │  │ 核心创新是什么？    │   │ 本精选集包含  │   │
│  │ □ 论文4   │  └─────────────────────┘   │ DeepSeek 团队 │   │
│  │ □ 论文5   │  ┌─────────────────────┐   │ 发布的全部技  │   │
│  │ ...       │  │ AI: 根据论文[1]...  │   │ 术论文...     │   │
│  │           │  │ [来源: 论文1 P.3]   │   │               │   │
│  │           │  └─────────────────────┘   │ ## 关键概念   │   │
│  │           │                             │ - MoE 架构    │   │
│  │           │  ┌─────────────────────┐   │ - 多头注意力  │   │
│  │           │  │ [输入问题...]       │   │ - ...         │   │
│  │           │  └─────────────────────┘   │               │   │
│  └───────────┴─────────────────────────────┴───────────────┘   │
├────────────────────────────────────────────────────────────────┤
│  Collection BBS                                                 │
│  [评论区]                                                       │
└────────────────────────────────────────────────────────────────┘
```

**三栏比例**：
- 左栏 (Documents): 20% - 可折叠
- 中栏 (AI Chat): 50% - 核心交互区
- 右栏 (Summary): 30% - 可折叠

**交互逻辑**：
1. 左栏点击文档 → 中栏可针对该文档提问
2. AI 回答带有来源标注 → 点击可跳转原文
3. 右栏自动生成摘要 + 关键概念

---

## 3. 组件规划

### 3.1 基础组件

| 组件 | 路径 | 说明 |
|------|------|------|
| Button | `components/ui/button.tsx` | 按钮 |
| Card | `components/ui/card.tsx` | 卡片容器 |
| Input | `components/ui/input.tsx` | 输入框 |
| Badge | `components/ui/badge.tsx` | 标签 |
| Avatar | `components/ui/avatar.tsx` | 头像 |
| Dialog | `components/ui/dialog.tsx` | 弹窗 |
| Dropdown | `components/ui/dropdown.tsx` | 下拉菜单 |

### 3.2 业务组件

| 组件 | 路径 | 说明 |
|------|------|------|
| Header | `components/layout/header.tsx` | 顶部导航 |
| Footer | `components/layout/footer.tsx` | 底部 |
| ChannelCard | `components/channel/channel-card.tsx` | 频道卡片 |
| CollectionCard | `components/collection/collection-card.tsx` | 精选集卡片 |
| DocumentList | `components/collection/document-list.tsx` | 档案列表 |
| ChatPanel | `components/chat/chat-panel.tsx` | AI 对话区 |
| ChatMessage | `components/chat/chat-message.tsx` | 对话消息 |
| SummaryPanel | `components/collection/summary-panel.tsx` | 摘要面板 |
| BBSSection | `components/bbs/bbs-section.tsx` | 评论区 |

---

## 4. 技术栈

### 4.1 框架

| 技术 | 版本 | 说明 |
|------|------|------|
| Next.js | 15.x | App Router |
| React | 19.x | RC 版本 |
| TypeScript | 5.x | 强类型 |
| Tailwind CSS | 4.x | 样式系统 |

### 4.2 依赖

| 库 | 用途 |
|------|------|
| `next-themes` | 深色模式 |
| `clsx` + `tailwind-merge` | 样式合并 |
| `lucide-react` | 图标 |
| `framer-motion` | 动效（极少量使用） |
| `react-markdown` | Markdown 渲染 |
| `zustand` | 轻量状态管理 |

### 4.3 目录结构

```
web/
├── src/
│   ├── app/                      # Next.js App Router
│   │   ├── layout.tsx
│   │   ├── page.tsx              # 首页
│   │   ├── auth/                 # 登录注册
│   │   ├── c/                    # 频道
│   │   │   └── [slug]/
│   │   │       ├── page.tsx      # 频道页
│   │   │       └── [collection]/
│   │   │           └── page.tsx  # 精选集页
│   │   ├── dashboard/            # 用户中心
│   │   └── pricing/              # 定价页
│   ├── components/
│   │   ├── ui/                   # 基础组件
│   │   ├── layout/               # 布局组件
│   │   ├── channel/              # 频道相关
│   │   ├── collection/           # 精选集相关
│   │   ├── chat/                 # AI 对话相关
│   │   └── bbs/                  # 评论区相关
│   ├── lib/                      # 工具函数
│   ├── hooks/                    # 自定义 Hooks
│   ├── stores/                   # Zustand stores
│   └── types/                    # TypeScript 类型
├── public/
│   └── fonts/                    # 自定义字体
├── tailwind.config.ts
└── package.json
```

---

## 5. 开发阶段

### Phase 1: 基础框架 (MVP 核心)

**目标**：跑通核心体验

| 任务 | 说明 |
|------|------|
| 项目初始化 | Next.js 15 + Tailwind v4 + TypeScript |
| 设计系统 | 字体、颜色、间距变量 |
| 布局组件 | Header, Footer |
| 首页 | 频道网格 + 精选集列表 |
| 频道页 | 精选集列表 |
| 精选集页 | 三栏布局（静态 Mock） |

### Phase 2: 交互功能

**目标**：实现 AI 交互

| 任务 | 说明 |
|------|------|
| AI Chat 组件 | 对话输入、消息展示、来源标注 |
| 文档列表交互 | 选择文档、查看详情 |
| 摘要面板 | 自动生成摘要展示 |

### Phase 3: 用户系统

**目标**：登录、购买流程

| 任务 | 说明 |
|------|------|
| 登录/注册页 | 邮箱登录 |
| 用户中心 | Dashboard 基础 |
| 我的精选集 | UGC 列表 |
| 定价页 | 通行证展示 |

### Phase 4: 完善

**目标**：打磨体验

| 任务 | 说明 |
|------|------|
| 深色模式 | 主题切换 |
| 响应式 | 移动端适配 |
| BBS 评论区 | 评论功能 |
| 周报展示 | 周报页面 |

---

## 6. Mock 数据

开发阶段使用 Mock 数据，结构与 PRD 数据模型对齐：

```typescript
// types/index.ts

interface Channel {
  id: string
  name: string
  slug: string
  description: string
  collectionCount: number
}

interface Collection {
  id: string
  channelId: string
  title: string
  by: string
  type: 'official' | 'user'
  visibility: 'public' | 'private'
  sourceCount: number
  createdAt: string
  updatedAt: string
}

interface Document {
  id: string
  collectionId: string
  title: string
  sourceType: 'pdf' | 'url' | 'markdown'
  sourceUrl: string
  summary?: string
}
```

---

## 7. 待确认问题

1. **字体托管**：使用 Google Fonts 还是自托管？
2. **图标库**：Lucide 还是其他？
3. **状态管理**：Zustand 还是纯 React Context？
4. **API Mock**：使用 MSW 还是简单的 JSON 文件？
5. **部署平台**：Vercel 还是其他？

---

## 8. 参考设计

- [Financial Times](https://ft.com) - 配色、排版
- [The Guardian](https://theguardian.com) - 信息密度
- [Bloomberg](https://bloomberg.com) - 数据展示
- [Notion](https://notion.so) - 三栏布局交互
- [NotebookLM](https://notebooklm.google.com) - AI 交互模式
